timestamp: 2025-12-23T19:51:24.711641
resolver: stackgraphs
project_root: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/examples/TrainTicketSystem_TOY_PYTHON_FIRST
focus_path: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/examples/TrainTicketSystem_TOY_PYTHON_FIRST/tts
focus_prefix: tts/
output: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test

[CMD] /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/target/release/neodepends --version
neodepends 0.0.12
[CMD] /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/target/release/neodepends --force --input=/Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/examples/TrainTicketSystem_TOY_PYTHON_FIRST --output=/Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/dependencies.stackgraphs_ast.db --format=sqlite --resources=entities,deps,contents --langs=python --stackgraphs --stackgraphs-python-mode=ast
[2025-12-24T05:51:24Z WARN  neodepends::filesystem] No git repository found. Opening in disk-only mode.
[2025-12-24T05:51:24Z INFO  neodepends::filesystem] Project opened at: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/examples/TrainTicketSystem_TOY_PYTHON_FIRST
[2025-12-24T05:51:24Z INFO  neodepends] Extracting and writing entities...
[2025-12-24T05:51:24Z INFO  neodepends] Extracting and writing deps...
[2025-12-24T05:51:25Z INFO  neodepends] Extracting and writing contents...
[2025-12-24T05:51:25Z INFO  neodepends] Finished in 427ms
[CMD] /opt/homebrew/opt/python@3.13/bin/python3.13 /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tools/filter_false_positives.py /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw.db /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw_filtered.db
Copying database from /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw.db to /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw_filtered.db...
Analyzing dependencies...
Total dependencies: 690
Detecting false positives...
Found 35 false positive dependencies

False Positives Breakdown:
  sibling_method: 35

Examples of false positives being removed:
  1. [_calculate_fare (Method)] -> [__init__ (Method)] at row 25 (reason: sibling_method)
  2. [get_route_id (Method)] -> [__init__ (Method)] at row 28 (reason: sibling_method)
  3. [get_origin (Method)] -> [__init__ (Method)] at row 31 (reason: sibling_method)
  4. [get_destination (Method)] -> [__init__ (Method)] at row 34 (reason: sibling_method)
  5. [get_distance (Method)] -> [__init__ (Method)] at row 37 (reason: sibling_method)
  ... and 30 more

Removing false positives from database...
Removed 35 false positive dependencies

Final Statistics:
  Original dependencies: 690
  False positives removed: 35
  Cleaned dependencies: 655
  Reduction: 5.1%

Cleaned database saved to: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw_filtered.db
[CMD] /opt/homebrew/opt/python@3.13/bin/python3.13 /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tools/enhance_python_deps.py /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/dependencies.stackgraphs_ast.db --profile stackgraphs
======================================================================
Python Dependency Enhancement Tool
======================================================================
Database: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/dependencies.stackgraphs_ast.db
Source root: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test

STEP 1: Adding Method->Field dependencies...
======================================================================
Import deps added: 3
Found 17 classes to analyze...
Found 114 methods/functions to analyze...
Extend deps added (AST): 2
  set_name -> name (Use)
  set_email -> email (Use)
  __init__ -> base_fare, destination, distance, intermediate_stops, origin, route_id (Use)
  add_intermediate_stop -> intermediate_stops (Use)
  display_info -> destination, origin (Use)
  __init__ -> email, id, name, phone (Use)
  __init__ -> agents, available_trains, city, name, station_code (Use)
  add_agent -> agents (Use)
  set_phone -> phone (Use)
  __init__ -> booked_tickets, loyalty_points, passport_number (Use)
  book_ticket -> booked_tickets, loyalty_points (Use)
  cancel_ticket -> loyalty_points (Use)
  __init__ -> assigned_station, tickets_processed (Use)
  set_assigned_station -> assigned_station (Use)
  issue_ticket -> tickets_processed (Use)
  cancel_ticket -> tickets_processed (Use)
  book_seat -> booked_seats (Use)
  set_managed_station -> managed_station (Use)
  __init__ -> department, employee_id, salary (Use)
  generate_station_report -> booking_system, reports (Use)
  generate_train_report -> booking_system, reports (Use)
  generate_passenger_report -> booking_system, reports (Use)
  calculate_occupancy_rate -> booking_system, metrics (Use)
  calculate_revenue -> booking_system, metrics (Use)
  get_popular_routes -> booking_system (Use)
  get_station_traffic -> booking_system, cached_stats (Use)
  generate_summary -> booking_system, metrics, reports (Use)
  clear_cache -> cached_stats, metrics (Use)
  export_all_reports -> metrics, reports (Use)
  __init__ -> managed_station, scheduled_trains (Use)
  display_ticket -> booking_time, route, train (Use)
  __init__ -> booking_time, passenger, price, route, seat_number, status, ticket_id, train (Use)
  cancel -> status, train (Use)
  complete -> status (Use)
  set_route -> route (Use)
  register_passenger -> passengers (Use)
  find_passenger -> passengers (Use)
  add_staff -> staff (Use)
  search_available_trains -> trains (Use)
  get_stations -> stations (Use)
  get_trains -> trains (Use)
  get_routes -> routes (Use)
  get_passengers -> passengers (Use)
  get_staff -> staff (Use)
  display_system_stats -> passengers, routes, staff, stations, trains (Use)
  analyze_revenue -> routes (Use)
  get_total_capacity -> trains (Use)
  __init__ -> booking_system, cached_stats, metrics, reports (Use)
  add_station -> stations (Use)
  find_station -> stations (Use)
  add_train -> trains (Use)
  find_train -> trains (Use)
  add_route -> routes (Use)
  find_routes -> routes (Use)
  __init__ -> _initialized, passengers, routes, staff, stations, trains (Use)
  add_train_schedule -> scheduled_trains (Use)
  __init__ -> booked_seats, route, total_seats, train_name, train_number, type (Use)

======================================================================
Step 1 complete!
  Methods analyzed: 114
  New dependencies added: 129

======================================================================
STEP 2: Fixing Field parent_ids for clustering...
======================================================================

======================================================================
FIXING FIELD PARENT IDs
======================================================================
Found 64 fields parented by Methods
Updating to have Class as parent (and merging duplicates)...
[INFO] Deduped 199 duplicate Use deps after field merge
[OK] Updated 64 field entities (49 moved, 15 merged)
[OK] 204 Method->Field dependencies now between siblings
   (Deicide will now process these dependencies!)

[INFO] Examples (moved fields):
  - move: Field 'Route.origin' from Method 'Route.__init__' -> Class 'Route'
  - move: Field 'Route.destination' from Method 'Route.__init__' -> Class 'Route'
  - move: Field 'Route.intermediate_stops' from Method 'Route.__init__' -> Class 'Route'
  - move: Field 'Route.distance' from Method 'Route.__init__' -> Class 'Route'
  - move: Field 'Route.base_fare' from Method 'Route.__init__' -> Class 'Route'
  - move: Field 'Route.route_id' from Method 'Route.__init__' -> Class 'Route'
  - move: Field 'TrainStation.station_code' from Method 'TrainStation.__init__' -> Class 'TrainStation'
  - move: Field 'Person.name' from Method 'Person.__init__' -> Class 'Person'
  - move: Field 'Person.id' from Method 'Person.__init__' -> Class 'Person'
  - move: Field 'Person.email' from Method 'Person.__init__' -> Class 'Person'
  - move: Field 'Person.phone' from Method 'Person.__init__' -> Class 'Person'
  - move: Field 'Passenger.passport_number' from Method 'Passenger.__init__' -> Class 'Passenger'
  - move: Field 'Passenger.booked_tickets' from Method 'Passenger.__init__' -> Class 'Passenger'
  - move: Field 'Passenger.loyalty_points' from Method 'Passenger.__init__' -> Class 'Passenger'
  - move: Field 'TrainStation.available_trains' from Method 'TrainStation.__init__' -> Class 'TrainStation'
  - move: Field 'TrainStation.agents' from Method 'TrainStation.__init__' -> Class 'TrainStation'
  - move: Field 'TrainStation.name' from Method 'TrainStation.__init__' -> Class 'TrainStation'
  - move: Field 'StationManager.scheduled_trains' from Method 'StationManager.__init__' -> Class 'StationManager'
  - move: Field 'StationManager.managed_station' from Method 'StationManager.set_managed_station' -> Class 'StationManager'
  - move: Field 'TicketAgent.tickets_processed' from Method 'TicketAgent.__init__' -> Class 'TicketAgent'
  - move: Field 'TicketAgent.assigned_station' from Method 'TicketAgent.__init__' -> Class 'TicketAgent'
  - move: Field 'Train.train_number' from Method 'Train.__init__' -> Class 'Train'
  - move: Field 'Train.train_name' from Method 'Train.__init__' -> Class 'Train'
  - move: Field 'Train.total_seats' from Method 'Train.__init__' -> Class 'Train'
  - move: Field 'Train.booked_seats' from Method 'Train.__init__' -> Class 'Train'

[INFO] Examples (merged duplicates):
  - merge: Field 'Person.name' from Method 'Person.set_name' -> canonical Field 'Person.name'
  - merge: Field 'Person.email' from Method 'Person.set_email' -> canonical Field 'Person.email'
  - merge: Field 'Person.phone' from Method 'Person.set_phone' -> canonical Field 'Person.phone'
  - merge: Field 'Passenger.loyalty_points' from Method 'Passenger.book_ticket' -> canonical Field 'Passenger.loyalty_points'
  - merge: Field 'Passenger.loyalty_points' from Method 'Passenger.cancel_ticket' -> canonical Field 'Passenger.loyalty_points'
  - merge: Field 'TicketAgent.assigned_station' from Method 'TicketAgent.set_assigned_station' -> canonical Field 'TicketAgent.assigned_station'
  - merge: Field 'TicketAgent.tickets_processed' from Method 'TicketAgent.issue_ticket' -> canonical Field 'TicketAgent.tickets_processed'
  - merge: Field 'TicketAgent.tickets_processed' from Method 'TicketAgent.cancel_ticket' -> canonical Field 'TicketAgent.tickets_processed'
  - merge: Field 'Train.route' from Method 'Train.set_route' -> canonical Field 'Train.route'
  - merge: Field 'ReportingSystem.cached_stats' from Method 'ReportingSystem.get_station_traffic' -> canonical Field 'ReportingSystem.cached_stats'
  - merge: Field 'ReportingSystem.cached_stats' from Method 'ReportingSystem.clear_cache' -> canonical Field 'ReportingSystem.cached_stats'
  - merge: Field 'TicketBookingSystem._instance' from Method 'TicketBookingSystem.__new__' -> canonical Field 'TicketBookingSystem._instance'
  - merge: Field 'StationManager.managed_station' from Method 'StationManager.__init__' -> canonical Field 'StationManager.managed_station'
  - merge: Field 'Ticket.status' from Method 'Ticket.cancel' -> canonical Field 'Ticket.status'
  - merge: Field 'Ticket.status' from Method 'Ticket.complete' -> canonical Field 'Ticket.status'
[INFO] Wrote report: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/enhance_python_deps.report.json

======================================================================
VERIFICATION RESULTS
======================================================================

Dependency Breakdown:
Source          Target          Type       Count     
----------------------------------------------------------------------
Method          Field           Use        188       
Field           Method          Use        39        
Function        File            Call       31        
Function        Method          Call       30        
Function        Class           Create     24        
Method          Field           Call       23        
Function        Function        Call       22        
Method          File            Use        20        
Method          Method          Call       20        
Field           File            Use        17        
Method          Class           Use        15        
Method          Method          Use        15        
File            File            Import     13        
Field           Class           Use        12        
File            Class           Import     10        
Function        File            Use        9         
Class           Class           Extend     6         
Class           File            Extend     6         
Function        Class           Use        5         
Function        Function        Use        5         
Method          File            Call       5         
Class           File            Use        2         
Field           Method          Call       2         
File            Function        Call       2         
Method          File            Import     2         
Field           Field           Use        1         
Field           File            Call       1         
Function        Method          Use        1         
Method          Class           Create     1         
Method          Class           Import     1         

======================================================================
COMPLETE SUCCESS!
  - 188 Method->Field dependencies created
  - 64 fields now siblings with methods
  - Database ready for Deicide hierarchical clustering!
======================================================================


[OK] Main DB: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/dependencies.stackgraphs_ast.db
[OK] Main DV8 DSM: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/dependencies.stackgraphs_ast.filtered.dv8-dsm-v3.json

[OK] Additional files in: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details
  - File-level DV8: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.file.dv8-dsm-v3.json
  - Raw DB (pre-enhancement): /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw.db
  - Raw DV8 per-file deps: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/raw/dv8_deps
  - Raw DV8 file-level: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw_file.dv8-dsm-v3.json
  - Raw DV8 full: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw.dv8-dsm-v3.json
  - Filtered raw DB (pre-enhancement): /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw_filtered.db
  - Filtered raw DV8 per-file: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/raw_filtered/dv8_deps
  - Filtered raw DV8 file-level: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw_filtered_file.dv8-dsm-v3.json
  - Filtered raw DV8 full: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dependencies.stackgraphs_ast.raw_filtered.dv8-dsm-v3.json
  - DV8 per-file deps: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/dv8_deps
  - Per-file DBs: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/per_file_dbs
  - Run summary: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/run_summary.json
[OK] Terminal output: /Users/chrisharing/Desktop/RA Software Architecture Analsysis/AGENT/TEST_AUTO/00_CORE/NEODEPENDS_DEICIDE/00_NEODEPENDS/neodepends/tests/test_output/python_test/details/terminal_output.txt
